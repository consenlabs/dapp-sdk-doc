<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <title>README.md</title>
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <!-- common.css -->
  <style>
    * {
      -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
    }

    html {
      -webkit-text-size-adjust: none;
    }

    body {
      font-family: -apple-system, Helvetica, Arial, sans-serif;
      margin: 0;
      padding: 20px;
      color: #333;
      word-wrap: break-word;
    }

    h1,
    h2,
    h3,
    h4,
    h5,
    h6 {
      line-height: 1.1;
    }

    img {
      max-width: 100% !important;
      height: auto;
    }

    blockquote {
      margin: 0;
      padding: 0 15px;
      color: #777;
      border-left: 4px solid #ddd;
    }

    hr {
      background-color: #ddd;
      border: 0;
      height: 1px;
      margin: 15px 0;
    }

    code {
      font-family: Menlo, Consolas, 'Ubuntu Mono', Monaco, 'source-code-pro', monospace;
      line-height: 1.4;
      margin: 0;
      padding: 0.2em 0;
      font-size: 90%;
      background-color: rgba(0, 0, 0, 0.04);
      border-radius: 3px;
    }

    pre>code {
      margin: 0;
      padding: 0;
      font-size: 100%;
      word-break: normal;
      background: transparent;
      border: 0;
    }

    ol {
      list-style-type: decimal;
    }

    ol ol,
    ul ol {
      list-style-type: lower-latin;
    }

    ol ol ol,
    ul ol ol,
    ul ul ol,
    ol ul ol {
      list-style-type: lower-roman;
    }

    table {
      border-spacing: 0;
      border-collapse: collapse;
      margin-top: 0;
      margin-bottom: 16px;
    }

    table th {
      font-weight: bold;
    }

    table th,
    table td {
      padding: 6px 13px;
      border: 1px solid #ddd;
    }

    table tr {
      border-top: 1px solid #ccc;
    }

    table tr:nth-child(even) {
      background-color: #f8f8f8;
    }

    input[type="checkbox"] {
      cursor: default;
      margin-right: 0.5em;
      font-size: 13px;
    }

    .task-list-item {
      list-style-type: none;
    }

    .task-list-item+.task-list-item {
      margin-top: 3px;
    }

    .task-list-item input {
      float: left;
      margin: 0.3em 1em 0.25em -1.6em;
      vertical-align: middle;
    }

    #tag-field {
      margin: 8px 2px 10px;
    }

    #tag-field .tag {
      display: inline-block;
      background: #cadff3;
      border-radius: 4px;
      padding: 1px 8px;
      color: black;
      font-size: 12px;
      margin-right: 10px;
      line-height: 1.4;
    }
  </style>
  <!-- ace-static.css -->
  <style>
    .ace_static_highlight {
      white-space: pre-wrap;
    }

    .ace_static_highlight .ace_gutter {
      width: 2em;
      text-align: right;
      padding: 0 3px 0 0;
      margin-right: 3px;
    }

    .ace_static_highlight.ace_show_gutter>.ace_line {
      padding-left: 2.6em;
    }

    .ace_static_highlight .ace_line {
      position: relative;
    }

    .ace_static_highlight .ace_gutter-cell {
      -moz-user-select: -moz-none;
      -khtml-user-select: none;
      -webkit-user-select: none;
      user-select: none;
      top: 0;
      bottom: 0;
      left: 0;
      position: absolute;
    }

    .ace_static_highlight .ace_gutter-cell:before {
      content: counter(ace_line, decimal);
      counter-increment: ace_line;
    }

    .ace_static_highlight {
      counter-reset: ace_line;
    }
  </style>
  <style>
    .ace-chrome .ace_gutter {
      background: #ebebeb;
      color: #333;
      overflow: hidden;
    }

    .ace-chrome .ace_print-margin {
      width: 1px;
      background: #e8e8e8;
    }

    .ace-chrome {
      background-color: #FFFFFF;
      color: black;
    }

    .ace-chrome .ace_cursor {
      color: black;
    }

    .ace-chrome .ace_invisible {
      color: rgb(191, 191, 191);
    }

    .ace-chrome .ace_constant.ace_buildin {
      color: rgb(88, 72, 246);
    }

    .ace-chrome .ace_constant.ace_language {
      color: rgb(88, 92, 246);
    }

    .ace-chrome .ace_constant.ace_library {
      color: rgb(6, 150, 14);
    }

    .ace-chrome .ace_invalid {
      background-color: rgb(153, 0, 0);
      color: white;
    }

    .ace-chrome .ace_fold {}

    .ace-chrome .ace_support.ace_function {
      color: rgb(60, 76, 114);
    }

    .ace-chrome .ace_support.ace_constant {
      color: rgb(6, 150, 14);
    }

    .ace-chrome .ace_support.ace_type,
    .ace-chrome .ace_support.ace_class.ace-chrome .ace_support.ace_other {
      color: rgb(109, 121, 222);
    }

    .ace-chrome .ace_variable.ace_parameter {
      font-style: italic;
      color: #FD971F;
    }

    .ace-chrome .ace_keyword.ace_operator {
      color: rgb(104, 118, 135);
    }

    .ace-chrome .ace_comment {
      color: #236e24;
    }

    .ace-chrome .ace_comment.ace_doc {
      color: #236e24;
    }

    .ace-chrome .ace_comment.ace_doc.ace_tag {
      color: #236e24;
    }

    .ace-chrome .ace_constant.ace_numeric {
      color: rgb(0, 0, 205);
    }

    .ace-chrome .ace_variable {
      color: rgb(49, 132, 149);
    }

    .ace-chrome .ace_xml-pe {
      color: rgb(104, 104, 91);
    }

    .ace-chrome .ace_entity.ace_name.ace_function {
      color: #0000A2;
    }

    .ace-chrome .ace_heading {
      color: rgb(12, 7, 255);
    }

    .ace-chrome .ace_list {
      color: rgb(185, 6, 144);
    }

    .ace-chrome .ace_marker-layer .ace_selection {
      background: rgb(181, 213, 255);
    }

    .ace-chrome .ace_marker-layer .ace_step {
      background: rgb(252, 255, 0);
    }

    .ace-chrome .ace_marker-layer .ace_stack {
      background: rgb(164, 229, 101);
    }

    .ace-chrome .ace_marker-layer .ace_bracket {
      margin: -1px 0 0 -1px;
      border: 1px solid rgb(192, 192, 192);
    }

    .ace-chrome .ace_marker-layer .ace_active-line {
      background: rgba(0, 0, 0, 0.07);
    }

    .ace-chrome .ace_gutter-active-line {
      background-color: #dcdcdc;
    }

    .ace-chrome .ace_marker-layer .ace_selected-word {
      background: rgb(250, 250, 255);
      border: 1px solid rgb(200, 200, 250);
    }

    .ace-chrome .ace_storage,
    .ace-chrome .ace_keyword,
    .ace-chrome .ace_meta.ace_tag {
      color: rgb(147, 15, 128);
    }

    .ace-chrome .ace_string.ace_regex {
      color: rgb(255, 0, 0)
    }

    .ace-chrome .ace_string {
      color: #1A1AA6;
    }

    .ace-chrome .ace_entity.ace_other.ace_attribute-name {
      color: #994409;
    }

    .ace-chrome .ace_indent-guide {
      background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;
    }
  </style>
  <!-- export.css -->
  <style>
    body {
      margin: 0 auto;
      max-width: 800px;
      line-height: 1.4
    }

    #nav {
      margin: 5px 0 10px;
      font-size: 15px
    }

    #titlearea {
      border-bottom: 1px solid #ccc;
      font-size: 17px;
      padding: 10px 0;
    }

    #contentarea {
      font-size: 15px;
      margin: 16px 0
    }

    .cell {
      outline: 0;
      min-height: 20px;
      margin: 5px 0;
      padding: 5px 0;
    }

    .code-cell {
      font-family: Menlo, Consolas, 'Ubuntu Mono', Monaco, 'source-code-pro', monospace;
      font-size: 12px;
    }

    .latex-cell {
      white-space: pre-wrap;
    }
  </style>
  <!-- User CSS -->
  <style>
    .text-cell {
      font-size: 15px;
      font-family: "iosevka, inziu iosevka SC";
    }

    .code-cell {
      font-size: 12px;
      font-family: "iosevka, inziu iosevka SC";
    }

    .markdown-cell {
      font-size: 15px;
      font-family: "iosevka, inziu iosevka SC";
    }

    .latex-cell {
      font-size: 15px;
      font-family: "iosevka, inziu iosevka SC";
    }
  </style>
</head>

<body>

  <div id="titlearea">
    <h2>README</h2>
  </div>
  <div id="contentarea">
    <div class="cell markdown-cell">
      <h2>Overview</h2>
      <h3>web3</h3>
      <p>When imToken DApp browser load DApp page, we inject
        <code>web3.js</code> into DApp webiew automatically, so the
        <code>web3.js</code> imported by DApp is not necessary, you can access web3 object from
        <code>window.web3</code>.</p>
      <p>By default, we set user's current wallet addrsss as the value of
        <code>web3.eth.defaultAccount</code>.
        <br> We also set the web3 provider as the same setting of imToken.</p>
      <h3>imToken</h3>
      <p>imToken SDK add a namespace
        <code>imToken</code> to window object in DApp webview, because of the web3 file and SDK file are injected
        <strong>after</strong> webview loaded, your code (which will invoke web3 and SDK) should run after SDK script injected.</p>
      <p>Before invoke imToken SDK API and the injected
        <code>web3</code>, You should check if
        <code>imToken</code> namespace is exist. We provide a
        <code>sdkReady</code> event which will emit after injected. you can listen this event on
        <code>window</code> object:</p>
      <pre><div class="ace-chrome"><div class="ace_static_highlight ace_show_gutter" style="counter-reset:ace_line 0"><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>if(window.imToken) {
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  // run your code
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>} else {
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  window.addEventListener('sdkReady', function() {
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    // run your code
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  })
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>}
</div></div></div></pre>
      <h3>callAPI</h3>
      <p>imToken DApp SDK expose an public method
        <code>callAPI</code>, API invoke should always code as this format :</p>
      <pre><div class="ace-chrome"><div class="ace_static_highlight ace_show_gutter" style="counter-reset:ace_line 0"><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_identifier">imToken</span><span class="ace_punctuation ace_operator">.</span><span class="ace_identifier">callAPI</span><span class="ace_paren ace_lparen">(</span><span class="ace_identifier">apiName</span><span class="ace_punctuation ace_operator">,</span> <span class="ace_identifier">params</span><span class="ace_punctuation ace_operator">,</span> <span class="ace_identifier">callback</span><span class="ace_paren ace_rparen">)</span>
</div></div></div></pre>
      <ul>
        <li>
          <em>apiName</em> is which api you want to call, you can see the available apiNames below.</li>
        <li>
          <em>params</em> (optional) is the params will pass to apiName</li>
        <li>
          <em>callback</em> (optional) is a callback function, which follow NodeJS style, the first param pass to callback function
          is always
          <code>err</code> (if no error occured,
          <code>err</code> is
          <code>null</code>, otherwise it's an object with a message property), and the second param is the result return by
          <em>apiName</em>.</li>
      </ul>
      <p>There is anthor public method
        <code>callPromisifyAPI</code> which do the same thing as
        <code>callAPI</code>, this maybe useful if you want to call api as Promise style:</p>
      <pre><div class="ace-chrome"><div class="ace_static_highlight ace_show_gutter" style="counter-reset:ace_line 0"><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_identifier">imToken</span><span class="ace_punctuation ace_operator">.</span><span class="ace_identifier">callPromisifyAPI</span><span class="ace_paren ace_lparen">(</span><span class="ace_identifier">apiName</span><span class="ace_punctuation ace_operator">,</span> <span class="ace_identifier">params</span><span class="ace_paren ace_rparen">)</span><span class="ace_punctuation ace_operator">.</span><span class="ace_identifier">then</span><span class="ace_paren ace_lparen">(</span><span class="ace_identifier">result</span> <span class="ace_keyword ace_operator">=&gt;</span> 
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_storage ace_type">console</span><span class="ace_punctuation ace_operator">.</span><span class="ace_support ace_function ace_firebug">log</span><span class="ace_paren ace_lparen">(</span><span class="ace_identifier">result</span><span class="ace_paren ace_rparen">)</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_paren ace_rparen">)</span><span class="ace_punctuation ace_operator">.</span><span class="ace_identifier">catch</span><span class="ace_paren ace_lparen">(</span><span class="ace_identifier">err</span> <span class="ace_keyword ace_operator">=&gt;</span> <span class="ace_paren ace_lparen">{</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_storage ace_type">console</span><span class="ace_punctuation ace_operator">.</span><span class="ace_support ace_function ace_firebug">error</span><span class="ace_paren ace_lparen">(</span><span class="ace_identifier">err</span><span class="ace_paren ace_rparen">)</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_paren ace_rparen">})</span>
</div></div></div></pre>
      <p>
        <em>📌 your DApp page should include a Promise polyfill already!</em>
      </p>
      <h2>Example</h2>
      <p>You can find the api example
        <a href="https://consenlabs.github.io/dapp-sdk-doc/index.html">here</a>.</p>
      <h2>API:</h2>
      <p>Because of
        <em>apiName</em> is always string, we will only explain the
        <em>params</em> and
        <em>callback</em>.</p>
      <h3>native.alert</h3>
      <blockquote>
        <p>display an native
          <code>alert</code> to show a message, like window.alert.</p>
      </blockquote>
      <pre><div class="ace-chrome"><div class="ace_static_highlight ace_show_gutter" style="counter-reset:ace_line 0"><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_comment">// @types</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_variable ace_parameter ace_function ace_ts">params</span>: <span class="ace_variable ace_parameter ace_function ace_ts">string</span>
</div></div></div></pre>
      <pre><div class="ace-chrome"><div class="ace_static_highlight ace_show_gutter" style="counter-reset:ace_line 0"><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_comment">// @example</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_identifier">imToken</span><span class="ace_punctuation ace_operator">.</span><span class="ace_identifier">callAPI</span><span class="ace_paren ace_lparen">(</span><span class="ace_string">'native.alert'</span><span class="ace_punctuation ace_operator">,</span> <span class="ace_string">'winner winner, chicken dinner<span class="ace_cjk" style="width:NaNpx">！</span>'</span><span class="ace_paren ace_rparen">)</span>
</div></div></div></pre>
      <h3>native.confirm</h3>
      <blockquote>
        <p>display an native
          <code>confirm</code> dialog, like window.confirm, if user click the button, will return an error to callback function.</p>
      </blockquote>
      <pre><div class="ace-chrome"><div class="ace_static_highlight ace_show_gutter" style="counter-reset:ace_line 0"><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_comment">// @types</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_identifier">params</span><span class="ace_punctuation ace_operator">:</span> <span class="ace_paren ace_lparen">{</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_variable ace_parameter ace_function ace_ts">title</span>: <span class="ace_variable ace_parameter ace_function ace_ts">string</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_identifier">message</span><span class="ace_punctuation ace_operator">:</span> <span class="ace_storage ace_type ace_variable ace_ts">string</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_identifier">cancelText</span><span class="ace_punctuation ace_operator">:</span> <span class="ace_storage ace_type ace_variable ace_ts">string</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_identifier">confirmText</span><span class="ace_punctuation ace_operator">:</span> <span class="ace_storage ace_type ace_variable ace_ts">string</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_paren ace_rparen">}</span>
</div></div></div></pre>
      <pre><div class="ace-chrome"><div class="ace_static_highlight ace_show_gutter" style="counter-reset:ace_line 0"><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_comment">// @example</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_identifier">imToken</span><span class="ace_punctuation ace_operator">.</span><span class="ace_identifier">callAPI</span><span class="ace_paren ace_lparen">(</span><span class="ace_string">'native.confirm'</span><span class="ace_punctuation ace_operator">,</span> <span class="ace_paren ace_lparen">{</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_identifier">title</span><span class="ace_punctuation ace_operator">:</span> <span class="ace_string">'quick question'</span><span class="ace_punctuation ace_operator">,</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_identifier">message</span><span class="ace_punctuation ace_operator">:</span> <span class="ace_string">'is imToken the best useful wallet?'</span><span class="ace_punctuation ace_operator">,</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_identifier">cancelText</span><span class="ace_punctuation ace_operator">:</span> <span class="ace_string">'no'</span><span class="ace_punctuation ace_operator">,</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_identifier">confirmText</span><span class="ace_punctuation ace_operator">:</span> <span class="ace_string">'yes'</span><span class="ace_punctuation ace_operator">,</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_paren ace_rparen">}</span><span class="ace_punctuation ace_operator">,</span> <span class="ace_storage ace_type">function</span><span class="ace_paren ace_lparen">(</span><span class="ace_identifier">err</span><span class="ace_punctuation ace_operator">,</span> <span class="ace_identifier">result</span><span class="ace_paren ace_rparen">)</span> <span class="ace_paren ace_lparen">{</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_keyword">if</span><span class="ace_paren ace_lparen">(</span><span class="ace_identifier">err</span><span class="ace_paren ace_rparen">)</span> <span class="ace_paren ace_lparen">{</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_storage ace_type">console</span><span class="ace_punctuation ace_operator">.</span><span class="ace_support ace_function ace_firebug">log</span><span class="ace_paren ace_lparen">(</span><span class="ace_string">'no'</span><span class="ace_paren ace_rparen">)</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_paren ace_rparen">}</span> <span class="ace_keyword">else</span> <span class="ace_paren ace_lparen">{</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_storage ace_type">console</span><span class="ace_punctuation ace_operator">.</span><span class="ace_support ace_function ace_firebug">log</span><span class="ace_paren ace_lparen">(</span><span class="ace_string">'yes'</span><span class="ace_paren ace_rparen">)</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_paren ace_rparen">}</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_paren ace_rparen">})</span>
</div></div></div></pre>
      <h3>native.selectPicture</h3>
      <blockquote>
        <p>select a picture from library or take a photo, will return image data in base64.</p>
      </blockquote>
      <pre><div class="ace-chrome"><div class="ace_static_highlight ace_show_gutter" style="counter-reset:ace_line 0"><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_comment">// @types</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_identifier">params</span><span class="ace_punctuation ace_operator">:</span> <span class="ace_paren ace_lparen">{</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_variable ace_parameter ace_function ace_ts">maxWidth</span>: <span class="ace_variable ace_parameter ace_function ace_ts">number</span>    <span class="ace_comment">// optional,  response will be corpped.</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_variable ace_parameter ace_function ace_ts">maxHeight</span>: <span class="ace_variable ace_parameter ace_function ace_ts">number</span>     <span class="ace_comment">// optinal,  response will be corpped.</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_variable ace_parameter ace_function ace_ts">allowsEditing</span>: <span class="ace_variable ace_parameter ace_function ace_ts">boolean</span> <span class="ace_comment">// optinal, enables built in iOS functionality to resize the image after selection</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_variable ace_parameter ace_function ace_ts">quality</span>: <span class="ace_variable ace_parameter ace_function ace_ts">number</span> <span class="ace_comment">// optinal, 0 to 1</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_paren ace_rparen">}</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_comment">// @response</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_paren ace_lparen">{</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_variable ace_parameter ace_function ace_ts">data</span>: <span class="ace_variable ace_parameter ace_function ace_ts">string</span> <span class="ace_comment">// base64 data, default prefix 'data:image/jpeg;base64,'</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_variable ace_parameter ace_function ace_ts">width</span>: <span class="ace_variable ace_parameter ace_function ace_ts">number</span> <span class="ace_comment">// image width</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_variable ace_parameter ace_function ace_ts">height</span>: <span class="ace_variable ace_parameter ace_function ace_ts">number</span>  <span class="ace_comment">// image height</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_variable ace_parameter ace_function ace_ts">fileSize</span>: <span class="ace_variable ace_parameter ace_function ace_ts">number</span> <span class="ace_comment">// file size (b)</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_paren ace_rparen">}</span>
</div></div></div></pre>
      <pre><div class="ace-chrome"><div class="ace_static_highlight ace_show_gutter" style="counter-reset:ace_line 0"><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_comment">// @example</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_identifier">imToken</span><span class="ace_punctuation ace_operator">.</span><span class="ace_identifier">callAPI</span><span class="ace_paren ace_lparen">(</span><span class="ace_string">'native.selectPicture'</span><span class="ace_punctuation ace_operator">,</span><span class="ace_paren ace_lparen">{</span><span class="ace_identifier">maxWidth</span><span class="ace_punctuation ace_operator">:</span> <span class="ace_constant ace_numeric">400</span><span class="ace_punctuation ace_operator">,</span> <span class="ace_identifier">maxHeight</span><span class="ace_punctuation ace_operator">:</span> <span class="ace_constant ace_numeric">200</span><span class="ace_paren ace_rparen">}</span><span class="ace_punctuation ace_operator">,</span> <span class="ace_storage ace_type">function</span> <span class="ace_paren ace_lparen">(</span><span class="ace_identifier">err</span><span class="ace_punctuation ace_operator">,</span> <span class="ace_identifier">ret</span><span class="ace_paren ace_rparen">)</span> <span class="ace_paren ace_lparen">{</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_keyword">if</span><span class="ace_paren ace_lparen">(</span><span class="ace_identifier">err</span><span class="ace_paren ace_rparen">)</span> <span class="ace_paren ace_lparen">{</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>  <span class="ace_support ace_function">alert</span><span class="ace_paren ace_lparen">(</span><span class="ace_identifier">err</span><span class="ace_punctuation ace_operator">.</span><span class="ace_identifier">message</span><span class="ace_paren ace_rparen">)</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_paren ace_rparen">}</span> <span class="ace_keyword">else</span> <span class="ace_paren ace_lparen">{</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>  <span class="ace_variable ace_language">document</span><span class="ace_punctuation ace_operator">.</span><span class="ace_support ace_function ace_dom">getElementById</span><span class="ace_paren ace_lparen">(</span><span class="ace_string">'imgContainer'</span><span class="ace_paren ace_rparen">)</span><span class="ace_punctuation ace_operator">.</span><span class="ace_identifier">src</span> <span class="ace_keyword ace_operator">=</span> <span class="ace_identifier">ret</span><span class="ace_punctuation ace_operator">.</span><span class="ace_identifier">data</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_paren ace_rparen">}</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_paren ace_rparen">})</span>
</div></div></div></pre>
      <h3>native.setClipboard</h3>
      <blockquote>
        <p>set text to user clipboard</p>
      </blockquote>
      <pre><div class="ace-chrome"><div class="ace_static_highlight ace_show_gutter" style="counter-reset:ace_line 0"><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_comment">//@types</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_variable ace_parameter ace_function ace_ts">params</span>: <span class="ace_variable ace_parameter ace_function ace_ts">string</span>
</div></div></div></pre>
      <pre><div class="ace-chrome"><div class="ace_static_highlight ace_show_gutter" style="counter-reset:ace_line 0"><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_comment">// @example</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_identifier">imToken</span><span class="ace_punctuation ace_operator">.</span><span class="ace_identifier">callAPI</span><span class="ace_paren ace_lparen">(</span><span class="ace_string">'setClipboard'</span><span class="ace_punctuation ace_operator">,</span> <span class="ace_string">'are you ok?'</span><span class="ace_paren ace_rparen">)</span>
</div></div></div></pre>
      <h3>native.share</h3>
      <blockquote>
        <p>open native share component</p>
      </blockquote>
      <pre><div class="ace-chrome"><div class="ace_static_highlight ace_show_gutter" style="counter-reset:ace_line 0"><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_comment">// @types</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_identifier">params</span><span class="ace_punctuation ace_operator">:</span>  <span class="ace_paren ace_lparen">{</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>  <span class="ace_variable ace_parameter ace_function ace_ts">title</span>: <span class="ace_variable ace_parameter ace_function ace_ts">string</span><span class="ace_punctuation ace_operator">,</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>  <span class="ace_variable ace_parameter ace_function ace_ts">message</span>: <span class="ace_variable ace_parameter ace_function ace_ts">string</span><span class="ace_punctuation ace_operator">,</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>  <span class="ace_variable ace_parameter ace_function ace_ts">url</span>: <span class="ace_variable ace_parameter ace_function ace_ts">string</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_paren ace_rparen">}</span>
</div></div></div></pre>
      <pre><div class="ace-chrome"><div class="ace_static_highlight ace_show_gutter" style="counter-reset:ace_line 0"><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_comment">// @example</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_identifier">imToken</span><span class="ace_punctuation ace_operator">.</span><span class="ace_identifier">callAPI</span><span class="ace_paren ace_lparen">(</span><span class="ace_string">'native.share'</span><span class="ace_punctuation ace_operator">,</span> <span class="ace_paren ace_lparen">{</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_identifier">title</span><span class="ace_punctuation ace_operator">:</span> <span class="ace_string">'dapp example'</span><span class="ace_punctuation ace_operator">,</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_identifier">message</span><span class="ace_punctuation ace_operator">:</span> <span class="ace_string">'this is example of dapp sdk'</span><span class="ace_punctuation ace_operator">,</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_identifier">url</span><span class="ace_punctuation ace_operator">:</span> <span class="ace_identifier">location</span><span class="ace_punctuation ace_operator">.</span><span class="ace_identifier">href</span><span class="ace_punctuation ace_operator">,</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_paren ace_rparen">}</span><span class="ace_punctuation ace_operator">,</span> <span class="ace_storage ace_type">function</span> <span class="ace_paren ace_lparen">(</span><span class="ace_identifier">err</span><span class="ace_punctuation ace_operator">,</span> <span class="ace_identifier">ret</span><span class="ace_paren ace_rparen">)</span> <span class="ace_paren ace_lparen">{</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_keyword">if</span><span class="ace_paren ace_lparen">(</span><span class="ace_identifier">err</span><span class="ace_paren ace_rparen">)</span> <span class="ace_paren ace_lparen">{</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>  <span class="ace_support ace_function">alert</span><span class="ace_paren ace_lparen">(</span><span class="ace_string">'user not share'</span><span class="ace_paren ace_rparen">)</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_paren ace_rparen">}</span> <span class="ace_keyword">else</span> <span class="ace_paren ace_lparen">{</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>  <span class="ace_support ace_function">alert</span><span class="ace_paren ace_lparen">(</span><span class="ace_string">'shared'</span><span class="ace_paren ace_rparen">)</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_paren ace_rparen">}</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_paren ace_rparen">})</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>  
</div></div></div></pre>
      <h3>native.scanQRCode</h3>
      <blockquote>
        <p>open an scanner to scan QRCode, return string content of QRCode.</p>
      </blockquote>
      <pre><div class="ace-chrome"><div class="ace_static_highlight ace_show_gutter" style="counter-reset:ace_line 0"><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_comment">// @example</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span> <span class="ace_identifier">imToken</span><span class="ace_punctuation ace_operator">.</span><span class="ace_identifier">callAPI</span><span class="ace_paren ace_lparen">(</span><span class="ace_string">'scanQRCode'</span><span class="ace_punctuation ace_operator">,</span> <span class="ace_storage ace_type">function</span> <span class="ace_paren ace_lparen">(</span><span class="ace_identifier">err</span><span class="ace_punctuation ace_operator">,</span> <span class="ace_identifier">text</span><span class="ace_paren ace_rparen">)</span> <span class="ace_paren ace_lparen">{</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_keyword">if</span><span class="ace_paren ace_lparen">(</span><span class="ace_identifier">err</span><span class="ace_paren ace_rparen">)</span> <span class="ace_paren ace_lparen">{</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>  <span class="ace_support ace_function">alert</span><span class="ace_paren ace_lparen">(</span><span class="ace_identifier">err</span><span class="ace_punctuation ace_operator">.</span><span class="ace_identifier">message</span><span class="ace_paren ace_rparen">)</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_paren ace_rparen">}</span> <span class="ace_keyword">else</span> <span class="ace_paren ace_lparen">{</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>  <span class="ace_support ace_function">alert</span><span class="ace_paren ace_lparen">(</span><span class="ace_identifier">text</span><span class="ace_paren ace_rparen">)</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_paren ace_rparen">}</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_paren ace_rparen">})</span>
</div></div></div></pre>
      <h3>native.setCalEvent</h3>
      <blockquote>
        <p>create an calEvent</p>
      </blockquote>
      <pre><div class="ace-chrome"><div class="ace_static_highlight ace_show_gutter" style="counter-reset:ace_line 0"><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_comment">// @types</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_identifier">params</span><span class="ace_punctuation ace_operator">:</span>  <span class="ace_paren ace_lparen">{</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_variable ace_parameter ace_function ace_ts">title</span>: <span class="ace_variable ace_parameter ace_function ace_ts">string</span><span class="ace_punctuation ace_operator">,</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_identifier">settings</span><span class="ace_punctuation ace_operator">:</span> <span class="ace_paren ace_lparen">{</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>  <span class="ace_variable ace_parameter ace_function ace_ts">notes</span>: <span class="ace_variable ace_parameter ace_function ace_ts">string</span><span class="ace_punctuation ace_operator">,</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>  <span class="ace_variable ace_parameter ace_function ace_ts">startDate</span>: <span class="ace_variable ace_parameter ace_function ace_ts">string</span><span class="ace_punctuation ace_operator">,</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>  <span class="ace_variable ace_parameter ace_function ace_ts">endDate</span>: <span class="ace_variable ace_parameter ace_function ace_ts">string</span><span class="ace_punctuation ace_operator">,</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_paren ace_rparen">}</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_paren ace_rparen">}</span>
</div></div></div></pre>
      <pre><div class="ace-chrome"><div class="ace_static_highlight ace_show_gutter" style="counter-reset:ace_line 0"><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_comment">//@example</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_identifier">imToken</span><span class="ace_punctuation ace_operator">.</span><span class="ace_identifier">callAPI</span><span class="ace_paren ace_lparen">(</span><span class="ace_string">'native.setCalEvent'</span><span class="ace_punctuation ace_operator">,</span> <span class="ace_paren ace_lparen">{</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_identifier">title</span><span class="ace_punctuation ace_operator">:</span> <span class="ace_string">'test save event'</span><span class="ace_punctuation ace_operator">,</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_identifier">settings</span> <span class="ace_punctuation ace_operator">:</span> <span class="ace_paren ace_lparen">{</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>  <span class="ace_identifier">notes</span><span class="ace_punctuation ace_operator">:</span> <span class="ace_string">'go to china this night'</span><span class="ace_punctuation ace_operator">,</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>  <span class="ace_identifier">startDate</span><span class="ace_punctuation ace_operator">:</span> <span class="ace_string">'2017-09-28T19:42:00.000Z'</span><span class="ace_punctuation ace_operator">,</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>  <span class="ace_identifier">endDate</span><span class="ace_punctuation ace_operator">:</span> <span class="ace_string">'2017-09-28T09:19:44.000Z'</span><span class="ace_punctuation ace_operator">,</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_paren ace_rparen">}</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_paren ace_rparen">}</span><span class="ace_punctuation ace_operator">,</span> <span class="ace_storage ace_type">function</span><span class="ace_paren ace_lparen">(</span><span class="ace_identifier">err</span><span class="ace_punctuation ace_operator">,</span> <span class="ace_identifier">id</span><span class="ace_paren ace_rparen">)</span> <span class="ace_paren ace_lparen">{</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_keyword">if</span><span class="ace_paren ace_lparen">(</span><span class="ace_identifier">err</span><span class="ace_paren ace_rparen">)</span> <span class="ace_paren ace_lparen">{</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>  <span class="ace_support ace_function">alert</span><span class="ace_paren ace_lparen">(</span><span class="ace_identifier">err</span><span class="ace_punctuation ace_operator">.</span><span class="ace_identifier">message</span><span class="ace_paren ace_rparen">)</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_paren ace_rparen">}</span> <span class="ace_keyword">else</span> <span class="ace_paren ace_lparen">{</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>  <span class="ace_support ace_function">alert</span><span class="ace_paren ace_lparen">(</span><span class="ace_identifier">id</span><span class="ace_paren ace_rparen">)</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_paren ace_rparen">}</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_paren ace_rparen">})</span>
</div></div></div></pre>
      <h3>navigator.closeDapp</h3>
      <blockquote>
        <p>close current dapp webview</p>
      </blockquote>
      <pre><div class="ace-chrome"><div class="ace_static_highlight ace_show_gutter" style="counter-reset:ace_line 0"><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_comment">// @example</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_identifier">imToken</span><span class="ace_punctuation ace_operator">.</span><span class="ace_identifier">callAPI</span><span class="ace_paren ace_lparen">(</span><span class="ace_string">'navigator.closeDapp'</span><span class="ace_paren ace_rparen">)</span>
</div></div></div></pre>
      <h3>navigator.goBack</h3>
      <blockquote>
        <p>go to prev history of current webview, like history.go(-1)</p>
        <p>if no prev history, close current dapp webview</p>
      </blockquote>
      <pre><div class="ace-chrome"><div class="ace_static_highlight ace_show_gutter" style="counter-reset:ace_line 0"><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_comment">// @example</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_identifier">imToken</span><span class="ace_punctuation ace_operator">.</span><span class="ace_identifier">callAPI</span><span class="ace_paren ace_lparen">(</span><span class="ace_string">'navigator.goBack'</span><span class="ace_paren ace_rparen">)</span>
</div></div></div></pre>
      <h3>navigator.toggleNavbar</h3>
      <blockquote>
        <p>by default, imToken anded a navbar on top of dapp webview outside.</p>
        <p>so users can control the webview navigation (like close、goBack、reload、share..)</p>
        <p>if you implement your own navbar in webview, you can hide the default navbar by call
          <code>toggleNavbar</code>.</p>
      </blockquote>
      <pre><div class="ace-chrome"><div class="ace_static_highlight ace_show_gutter" style="counter-reset:ace_line 0"><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_comment">// @example</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_identifier">imToken</span><span class="ace_punctuation ace_operator">.</span><span class="ace_identifier">callAPI</span><span class="ace_paren ace_lparen">(</span><span class="ace_string">'navigator.toggleNavbar'</span><span class="ace_paren ace_rparen">)</span>
</div></div></div></pre>
      <h3>transaction.tokenPay</h3>
      <blockquote>
        <p>open an imToken pay modal to send a transaction, if pay success, will return the txHash to callback function.</p>
      </blockquote>
      <pre><div class="ace-chrome"><div class="ace_static_highlight ace_show_gutter" style="counter-reset:ace_line 0"><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_comment">// @types</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_identifier">params</span><span class="ace_punctuation ace_operator">:</span>  <span class="ace_paren ace_lparen">{</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_variable ace_parameter ace_function ace_ts">contractAddress</span>: <span class="ace_variable ace_parameter ace_function ace_ts">string</span><span class="ace_punctuation ace_operator">,</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_variable ace_parameter ace_function ace_ts">to</span>: <span class="ace_variable ace_parameter ace_function ace_ts">string</span><span class="ace_punctuation ace_operator">,</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_variable ace_parameter ace_function ace_ts">from</span>: <span class="ace_variable ace_parameter ace_function ace_ts">string</span><span class="ace_punctuation ace_operator">,</span> 
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_variable ace_parameter ace_function ace_ts">value</span>: <span class="ace_variable ace_parameter ace_function ace_ts">string</span><span class="ace_punctuation ace_operator">,</span> <span class="ace_comment">// bigNumber string,  unit in decimal</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_variable ace_parameter ace_function ace_ts">orderInfo</span>: <span class="ace_variable ace_parameter ace_function ace_ts">string</span><span class="ace_punctuation ace_operator">,</span> <span class="ace_comment">// pay modal title</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_variable ace_parameter ace_function ace_ts">feeCustomizable</span>: <span class="ace_variable ace_parameter ace_function ace_ts">boolean</span><span class="ace_punctuation ace_operator">,</span> <span class="ace_comment">// control whether user can select payer wallet and custom gas</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_paren ace_rparen">}</span>
</div></div></div></pre>
      <pre><div class="ace-chrome"><div class="ace_static_highlight ace_show_gutter" style="counter-reset:ace_line 0"><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_comment">// @example</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_storage ace_type">var</span> <span class="ace_identifier">params</span> <span class="ace_keyword ace_operator">=</span> <span class="ace_paren ace_lparen">{</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_identifier">contractAddress</span><span class="ace_punctuation ace_operator">:</span> <span class="ace_string">'0x0000000000000000000000000000000000000000'</span><span class="ace_punctuation ace_operator">,</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_identifier">to</span><span class="ace_punctuation ace_operator">:</span> <span class="ace_string">'0x0fa38abec02bd4dbb87f189df50b674b9db0b468'</span><span class="ace_punctuation ace_operator">,</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_identifier">from</span><span class="ace_punctuation ace_operator">:</span> <span class="ace_identifier">web3</span><span class="ace_punctuation ace_operator">.</span><span class="ace_identifier">eth</span><span class="ace_punctuation ace_operator">.</span><span class="ace_identifier">defaultAccount</span><span class="ace_punctuation ace_operator">,</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_identifier">value</span><span class="ace_punctuation ace_operator">:</span> <span class="ace_string">'1250000000000000'</span><span class="ace_punctuation ace_operator">,</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_identifier">orderInfo</span><span class="ace_punctuation ace_operator">:</span> <span class="ace_string">'buy a cup of coffee'</span><span class="ace_punctuation ace_operator">,</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_identifier">feeCustomizable</span><span class="ace_punctuation ace_operator">:</span> <span class="ace_constant ace_language ace_boolean">true</span><span class="ace_punctuation ace_operator">,</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_paren ace_rparen">}</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_identifier">imToken</span><span class="ace_punctuation ace_operator">.</span><span class="ace_identifier">callAPI</span><span class="ace_paren ace_lparen">(</span><span class="ace_string">'transaction.tokenPay'</span><span class="ace_punctuation ace_operator">,</span> <span class="ace_identifier">params</span><span class="ace_punctuation ace_operator">,</span> <span class="ace_storage ace_type">function</span> <span class="ace_paren ace_lparen">(</span><span class="ace_identifier">err</span><span class="ace_punctuation ace_operator">,</span> <span class="ace_identifier">hash</span><span class="ace_paren ace_rparen">)</span> <span class="ace_paren ace_lparen">{</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_keyword">if</span> <span class="ace_paren ace_lparen">(</span><span class="ace_identifier">err</span><span class="ace_paren ace_rparen">)</span> <span class="ace_paren ace_lparen">{</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>  <span class="ace_support ace_function">alert</span><span class="ace_paren ace_lparen">(</span><span class="ace_identifier">err</span><span class="ace_punctuation ace_operator">.</span><span class="ace_identifier">message</span><span class="ace_paren ace_rparen">)</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_paren ace_rparen">}</span> <span class="ace_keyword">else</span> <span class="ace_paren ace_lparen">{</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>  <span class="ace_comment">// return txHash of this transaction</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>  <span class="ace_support ace_function">alert</span><span class="ace_paren ace_lparen">(</span><span class="ace_identifier">hash</span><span class="ace_paren ace_rparen">)</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_paren ace_rparen">}</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_paren ace_rparen">})</span>
</div></div></div></pre>
      <h3>user.getCurrentAccount</h3>
      <blockquote>
        <p>get current wallet address</p>
      </blockquote>
      <pre><div class="ace-chrome"><div class="ace_static_highlight ace_show_gutter" style="counter-reset:ace_line 0"><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_comment">//@example</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_identifier">imToken</span><span class="ace_punctuation ace_operator">.</span><span class="ace_identifier">callAPI</span><span class="ace_paren ace_lparen">(</span><span class="ace_string">'user.getCurrentAccount'</span><span class="ace_punctuation ace_operator">,</span> <span class="ace_storage ace_type">function</span><span class="ace_paren ace_lparen">(</span><span class="ace_identifier">err</span><span class="ace_punctuation ace_operator">,</span> <span class="ace_identifier">address</span><span class="ace_paren ace_rparen">)</span> <span class="ace_paren ace_lparen">{</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_keyword">if</span><span class="ace_paren ace_lparen">(</span><span class="ace_identifier">err</span><span class="ace_paren ace_rparen">)</span> <span class="ace_paren ace_lparen">{</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>  <span class="ace_support ace_function">alert</span><span class="ace_paren ace_lparen">(</span><span class="ace_identifier">err</span><span class="ace_punctuation ace_operator">.</span><span class="ace_identifier">message</span><span class="ace_paren ace_rparen">)</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_paren ace_rparen">}</span> <span class="ace_keyword">else</span> <span class="ace_paren ace_lparen">{</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>  <span class="ace_support ace_function">alert</span><span class="ace_paren ace_lparen">(</span><span class="ace_identifier">address</span><span class="ace_paren ace_rparen">)</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_paren ace_rparen">}</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_paren ace_rparen">})</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>  
</div></div></div></pre>
      <h4>user.getAccountList</h4>
      <blockquote>
        <p>get user's wallet address list, return an Array of wallet address list.</p>
      </blockquote>
      <pre><div class="ace-chrome"><div class="ace_static_highlight ace_show_gutter" style="counter-reset:ace_line 0"><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_comment">//@example</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_identifier">imToken</span><span class="ace_punctuation ace_operator">.</span><span class="ace_identifier">callAPI</span><span class="ace_paren ace_lparen">(</span><span class="ace_string">'user.getAccountList'</span><span class="ace_punctuation ace_operator">,</span> <span class="ace_storage ace_type">function</span><span class="ace_paren ace_lparen">(</span><span class="ace_identifier">err</span><span class="ace_punctuation ace_operator">,</span> <span class="ace_identifier">list</span><span class="ace_paren ace_rparen">)</span> <span class="ace_paren ace_lparen">{</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_keyword">if</span><span class="ace_paren ace_lparen">(</span><span class="ace_identifier">err</span><span class="ace_paren ace_rparen">)</span> <span class="ace_paren ace_lparen">{</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>  <span class="ace_support ace_function">alert</span><span class="ace_paren ace_lparen">(</span><span class="ace_identifier">err</span><span class="ace_punctuation ace_operator">.</span><span class="ace_identifier">message</span><span class="ace_paren ace_rparen">)</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_paren ace_rparen">}</span> <span class="ace_keyword">else</span> <span class="ace_paren ace_lparen">{</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>  <span class="ace_support ace_function">alert</span><span class="ace_paren ace_lparen">(</span><span class="ace_identifier">list</span><span class="ace_paren ace_rparen">)</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_paren ace_rparen">}</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>   <span class="ace_paren ace_rparen">})</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>   
</div></div></div></pre>
      <h3>user.getAssetTokens</h3>
      <blockquote>
        <p>get user's assetToken list, return an Array of
          <em>tokenObject</em> list.</p>
        <p>
          <strong>need permission</strong>: if user refused, you will get an err: 'user refused'.</p>
      </blockquote>
      <pre><div class="ace-chrome"><div class="ace_static_highlight ace_show_gutter" style="counter-reset:ace_line 0"><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_comment">// *tokenObject* type</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_paren ace_lparen">{</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_identifier">chainType</span><span class="ace_punctuation ace_operator">:</span> <span class="ace_identifier">string</span> <span class="ace_comment">// ETHEREUM | BITCOIN</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_identifier">address</span><span class="ace_punctuation ace_operator">:</span> <span class="ace_identifier">string</span>  <span class="ace_comment">// contractAddress</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_identifier">walletAddress</span><span class="ace_punctuation ace_operator">:</span> <span class="ace_identifier">string</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_identifier">symbol</span><span class="ace_punctuation ace_operator">:</span> <span class="ace_identifier">string</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_identifier">decimal</span><span class="ace_punctuation ace_operator">:</span> <span class="ace_identifier">number</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_identifier">unit</span><span class="ace_punctuation ace_operator">:</span> <span class="ace_identifier">string</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_identifier">logo</span><span class="ace_punctuation ace_operator">:</span> <span class="ace_identifier">string</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_identifier">balance</span><span class="ace_punctuation ace_operator">:</span> <span class="ace_identifier">string</span> <span class="ace_comment">// bigNumber, unit in decimal</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_identifier">defaultGas</span><span class="ace_punctuation ace_operator">:</span> <span class="ace_identifier">string</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_identifier">price</span><span class="ace_punctuation ace_operator">:</span> <span class="ace_identifier">number</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_identifier">profileUrl</span><span class="ace_punctuation ace_operator">:</span> <span class="ace_identifier">string</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_paren ace_rparen">}</span>
</div></div></div></pre>
      <pre><div class="ace-chrome"><div class="ace_static_highlight ace_show_gutter" style="counter-reset:ace_line 0"><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_comment">// @example</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_identifier">imToken</span><span class="ace_punctuation ace_operator">.</span><span class="ace_identifier">callAPI</span><span class="ace_paren ace_lparen">(</span><span class="ace_string">'user.getAssetTokens'</span><span class="ace_punctuation ace_operator">,</span> <span class="ace_storage ace_type">function</span><span class="ace_paren ace_lparen">(</span><span class="ace_identifier">err</span><span class="ace_punctuation ace_operator">,</span> <span class="ace_identifier">assetTokens</span><span class="ace_paren ace_rparen">)</span><span class="ace_paren ace_lparen">{</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_keyword">if</span><span class="ace_paren ace_lparen">(</span><span class="ace_identifier">err</span><span class="ace_paren ace_rparen">)</span> <span class="ace_paren ace_lparen">{</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>  <span class="ace_support ace_function">alert</span><span class="ace_paren ace_lparen">(</span><span class="ace_identifier">err</span><span class="ace_punctuation ace_operator">.</span><span class="ace_identifier">message</span><span class="ace_paren ace_rparen">)</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_paren ace_rparen">}</span> <span class="ace_keyword">else</span> <span class="ace_paren ace_lparen">{</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>   <span class="ace_support ace_function">alert</span><span class="ace_paren ace_lparen">(</span><span class="ace_identifier">assetTokens</span><span class="ace_punctuation ace_operator">.</span><span class="ace_identifier">map</span><span class="ace_paren ace_lparen">(</span><span class="ace_storage ace_type">function</span><span class="ace_paren ace_lparen">(</span><span class="ace_identifier">t</span><span class="ace_paren ace_rparen">)</span><span class="ace_paren ace_lparen">{</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>    <span class="ace_keyword">return</span> <span class="ace_identifier">t</span><span class="ace_punctuation ace_operator">.</span><span class="ace_identifier">symbol</span> <span class="ace_keyword ace_operator">+</span> <span class="ace_string">' '</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>  <span class="ace_paren ace_rparen">}))</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_paren ace_rparen">}</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_paren ace_rparen">})</span> 
</div></div></div></pre>
      <h3>user.showAccountSwitch</h3>
      <blockquote>
        <p>open a wallet switch modal
          <br> return a wallet address depend on which user selected.</p>
      </blockquote>
      <pre><div class="ace-chrome"><div class="ace_static_highlight ace_show_gutter" style="counter-reset:ace_line 0"><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_comment">//@types</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_identifier">params</span><span class="ace_punctuation ace_operator">:</span>  <span class="ace_paren ace_lparen">{</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_variable ace_parameter ace_function ace_ts">contractAddress</span>: <span class="ace_variable ace_parameter ace_function ace_ts">string</span> <span class="ace_comment">// pass a token contractAddress, only show wallets which has this token</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_paren ace_rparen">}</span>
</div></div></div></pre>
      <pre><div class="ace-chrome"><div class="ace_static_highlight ace_show_gutter" style="counter-reset:ace_line 0"><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_comment">// @example</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_identifier">imToken</span><span class="ace_punctuation ace_operator">.</span><span class="ace_identifier">callAPI</span><span class="ace_paren ace_lparen">(</span><span class="ace_string">'user.showAccountSwitch'</span><span class="ace_punctuation ace_operator">,</span> <span class="ace_storage ace_type">function</span><span class="ace_paren ace_lparen">(</span><span class="ace_identifier">err</span><span class="ace_punctuation ace_operator">,</span> <span class="ace_identifier">address</span><span class="ace_paren ace_rparen">)</span><span class="ace_paren ace_lparen">{</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_keyword">if</span><span class="ace_paren ace_lparen">(</span><span class="ace_identifier">err</span><span class="ace_paren ace_rparen">)</span> <span class="ace_paren ace_lparen">{</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>  <span class="ace_support ace_function">alert</span><span class="ace_paren ace_lparen">(</span><span class="ace_identifier">err</span><span class="ace_punctuation ace_operator">.</span><span class="ace_identifier">message</span><span class="ace_paren ace_rparen">)</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_paren ace_rparen">}</span> <span class="ace_keyword">else</span> <span class="ace_paren ace_lparen">{</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>  <span class="ace_support ace_function">alert</span><span class="ace_paren ace_lparen">(</span><span class="ace_identifier">address</span><span class="ace_paren ace_rparen">)</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_paren ace_rparen">}</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_paren ace_rparen">})</span> 
</div></div></div></pre>
      <h3>user.getContacts</h3>
      <blockquote>
        <p>get wallet contacts of user, return an Array of
          <em>ContactObject</em> list.</p>
        <p>
          <strong>need permission</strong>: if user refused, you will get an err: 'user refused'.</p>
      </blockquote>
      <pre><div class="ace-chrome"><div class="ace_static_highlight ace_show_gutter" style="counter-reset:ace_line 0"><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_comment">// *ContactObject* type</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_paren ace_lparen">{</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_identifier">id</span><span class="ace_punctuation ace_operator">:</span> <span class="ace_identifier">string</span> <span class="ace_comment">// chainType-address</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_identifier">chainType</span><span class="ace_punctuation ace_operator">:</span> <span class="ace_identifier">string</span> <span class="ace_comment">// ETHEREUM | BITCOIN</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_identifier">description</span><span class="ace_punctuation ace_operator">:</span> <span class="ace_identifier">string</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_identifier">name</span><span class="ace_punctuation ace_operator">:</span> <span class="ace_identifier">string</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_identifier">address</span><span class="ace_punctuation ace_operator">:</span> <span class="ace_identifier">string</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_identifier">timestamp</span><span class="ace_punctuation ace_operator">:</span> <span class="ace_identifier">number</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_paren ace_rparen">}</span>
</div></div></div></pre>
      <pre><div class="ace-chrome"><div class="ace_static_highlight ace_show_gutter" style="counter-reset:ace_line 0"><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_comment">//@example</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_identifier">imToken</span><span class="ace_punctuation ace_operator">.</span><span class="ace_identifier">callAPI</span><span class="ace_paren ace_lparen">(</span><span class="ace_string">'user.getContacts'</span><span class="ace_punctuation ace_operator">,</span> <span class="ace_storage ace_type">function</span><span class="ace_paren ace_lparen">(</span><span class="ace_identifier">err</span><span class="ace_punctuation ace_operator">,</span> <span class="ace_identifier">contacts</span><span class="ace_paren ace_rparen">)</span> <span class="ace_paren ace_lparen">{</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span> <span class="ace_keyword">if</span><span class="ace_paren ace_lparen">(</span><span class="ace_identifier">err</span><span class="ace_paren ace_rparen">)</span> <span class="ace_paren ace_lparen">{</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>   <span class="ace_support ace_function">alert</span><span class="ace_paren ace_lparen">(</span><span class="ace_identifier">err</span><span class="ace_punctuation ace_operator">.</span><span class="ace_identifier">message</span><span class="ace_paren ace_rparen">)</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span> <span class="ace_paren ace_rparen">}</span> <span class="ace_keyword">else</span> <span class="ace_paren ace_lparen">{</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>   <span class="ace_support ace_function">alert</span><span class="ace_paren ace_lparen">(</span><span class="ace_identifier">contacts</span><span class="ace_paren ace_rparen">)</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span> <span class="ace_paren ace_rparen">}</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>   <span class="ace_paren ace_rparen">})</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>  
</div></div></div></pre>
      <h3>user.getProfile</h3>
      <blockquote>
        <p>get user profile, return a
          <code>ProfileObject</code>, contains username、avatar、kyc... etc.</p>
        <p>
          <strong>need permission</strong>: if user refused, you will get an err: 'user refused'.</p>
      </blockquote>
      <pre><div class="ace-chrome"><div class="ace_static_highlight ace_show_gutter" style="counter-reset:ace_line 0"><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_comment">// *ProfileObject*</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_paren ace_lparen">{</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_identifier">name</span><span class="ace_punctuation ace_operator">:</span> <span class="ace_identifier">string</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_identifier">avatar</span><span class="ace_punctuation ace_operator">:</span> <span class="ace_identifier">string</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_paren ace_rparen">}</span>
</div></div></div></pre>
      <pre><div class="ace-chrome"><div class="ace_static_highlight ace_show_gutter" style="counter-reset:ace_line 0"><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_comment">// @example</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_identifier">imToken</span><span class="ace_punctuation ace_operator">.</span><span class="ace_identifier">callAPI</span><span class="ace_paren ace_lparen">(</span><span class="ace_string">'user.getProfile'</span><span class="ace_punctuation ace_operator">,</span> <span class="ace_storage ace_type">function</span><span class="ace_paren ace_lparen">(</span><span class="ace_identifier">err</span><span class="ace_punctuation ace_operator">,</span> <span class="ace_identifier">profile</span><span class="ace_paren ace_rparen">)</span> <span class="ace_paren ace_lparen">{</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_comment">// </span><span class="ace_comment ace_doc ace_tag ace_storage ace_type">TODO</span><span class="ace_comment">: profile detail</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span> <span class="ace_keyword">if</span><span class="ace_paren ace_lparen">(</span><span class="ace_identifier">err</span><span class="ace_paren ace_rparen">)</span> <span class="ace_paren ace_lparen">{</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>   <span class="ace_support ace_function">alert</span><span class="ace_paren ace_lparen">(</span><span class="ace_identifier">err</span><span class="ace_punctuation ace_operator">.</span><span class="ace_identifier">message</span><span class="ace_paren ace_rparen">)</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span> <span class="ace_paren ace_rparen">}</span> <span class="ace_keyword">else</span> <span class="ace_paren ace_lparen">{</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>   <span class="ace_support ace_function">alert</span><span class="ace_paren ace_lparen">(</span><span class="ace_identifier">profile</span><span class="ace_paren ace_rparen">)</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span> <span class="ace_paren ace_rparen">}</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>   <span class="ace_paren ace_rparen">})</span>
</div></div></div></pre>
      <h3>device.getCurrentLanguage</h3>
      <blockquote>
        <p>if your dapp need to support multi-language, maybe this info is useful
          <br> we already and locale param to your dapp url, most time you no need to call this api.</p>
      </blockquote>
      <p>
        <em>available locale:</em>
      </p>
      <ul>
        <li>zh-CN</li>
        <li>en-US</li>
        <li>zh-Hant-US</li>
        <li>zh-Hant-HK</li>
        <li>zh-Hant-TW</li>
      </ul>
      <pre><div class="ace-chrome"><div class="ace_static_highlight ace_show_gutter" style="counter-reset:ace_line 0"><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_comment">// @example</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_identifier">imToken</span><span class="ace_punctuation ace_operator">.</span><span class="ace_identifier">callAPI</span><span class="ace_paren ace_lparen">(</span><span class="ace_string">'device.getCurrentLanguage'</span><span class="ace_punctuation ace_operator">,</span> <span class="ace_storage ace_type">function</span><span class="ace_paren ace_lparen">(</span><span class="ace_identifier">err</span><span class="ace_punctuation ace_operator">,</span> <span class="ace_identifier">language</span><span class="ace_paren ace_rparen">)</span> <span class="ace_paren ace_lparen">{</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span> <span class="ace_keyword">if</span><span class="ace_paren ace_lparen">(</span><span class="ace_identifier">err</span><span class="ace_paren ace_rparen">)</span> <span class="ace_paren ace_lparen">{</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>   <span class="ace_support ace_function">alert</span><span class="ace_paren ace_lparen">(</span><span class="ace_identifier">err</span><span class="ace_paren ace_rparen">)</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span> <span class="ace_paren ace_rparen">}</span> <span class="ace_keyword">else</span> <span class="ace_paren ace_lparen">{</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>   <span class="ace_support ace_function">alert</span><span class="ace_paren ace_lparen">(</span><span class="ace_identifier">language</span><span class="ace_paren ace_rparen">)</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span> <span class="ace_paren ace_rparen">}</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>   <span class="ace_paren ace_rparen">})</span>
</div></div></div></pre>
      <h3>device.getCurrentCurrency</h3>
      <blockquote>
        <p>get current currency of imToken, if your dapp need to support multi-language, maybe this info is useful
          <br> we already and currency param to your dapp url, most time you no need to call this api.</p>
      </blockquote>
      <p>
        <em>available currency:</em>
      </p>
      <ul>
        <li>CNY</li>
        <li>USD</li>
        <li>TWD</li>
        <li>HKD</li>
      </ul>
      <pre><div class="ace-chrome"><div class="ace_static_highlight ace_show_gutter" style="counter-reset:ace_line 0"><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_comment">//@example</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_identifier">imToken</span><span class="ace_punctuation ace_operator">.</span><span class="ace_identifier">callAPI</span><span class="ace_paren ace_lparen">(</span><span class="ace_string">'device.getCurrentCurrency'</span><span class="ace_punctuation ace_operator">,</span> <span class="ace_storage ace_type">function</span><span class="ace_paren ace_lparen">(</span><span class="ace_identifier">err</span><span class="ace_punctuation ace_operator">,</span> <span class="ace_identifier">currency</span><span class="ace_paren ace_rparen">)</span> <span class="ace_paren ace_lparen">{</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span> <span class="ace_keyword">if</span><span class="ace_paren ace_lparen">(</span><span class="ace_identifier">err</span><span class="ace_paren ace_rparen">)</span> <span class="ace_paren ace_lparen">{</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>   <span class="ace_support ace_function">alert</span><span class="ace_paren ace_lparen">(</span><span class="ace_identifier">err</span><span class="ace_paren ace_rparen">)</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span> <span class="ace_paren ace_rparen">}</span> <span class="ace_keyword">else</span> <span class="ace_paren ace_lparen">{</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>   <span class="ace_support ace_function">alert</span><span class="ace_paren ace_lparen">(</span><span class="ace_identifier">currency</span><span class="ace_paren ace_rparen">)</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span> <span class="ace_paren ace_rparen">}</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>   <span class="ace_paren ace_rparen">})</span>
</div></div></div></pre>
    </div>
  </div>
  <script></script>
</body>

</html>